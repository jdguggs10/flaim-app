{
  "id": "espn-bb-mcp-bridge",
  "name": "ESPN Fantasy Baseball MCP Bridge",
  "desc": "Bridges HTTP/SSE requests to ESPN Fantasy Baseball MCP server via stdio",
  "uri": "/espn-bb/*",
  "methods": ["GET", "POST", "OPTIONS"],
  "plugins": {
    "cors": {
      "allow_origins": "*",
      "allow_methods": "GET,POST,OPTIONS", 
      "allow_headers": "Authorization,Content-Type,Accept",
      "allow_credentials": true,
      "max_age": 86400
    },
    "jwt-auth": {
      "header": "Authorization",
      "query": "token", 
      "cookie": "session"
    },
    "limit-count": {
      "count": 30,
      "time_window": 60,
      "rejected_code": 429,
      "rejected_msg": "Rate limit exceeded",
      "policy": "local"
    },
    "mcp-bridge": {
      "base_uri": "/espn-bb",
      "command": "/usr/local/bin/python",
      "args": ["-m", "baseball_mcp.baseball_mcp_server"],
      "cwd": "/srv",
      "env": {
        "ESPN_S2": "$ESPN_S2",
        "SWID": "$SWID",
        "LEAGUE_ID": "$LEAGUE_ID",
        "PYTHONPATH": "/srv"
      },
      "keepalive": 300,
      "timeout": 30,
      "stdio": {
        "stdin": true,
        "stdout": true,
        "stderr": false
      },
      "buffer_size": 8192,
      "max_buffer_size": 65536,
      "response_format": "sse"
    }
  },
  "upstream": {
    "type": "roundrobin",
    "nodes": {
      "127.0.0.1:1": 1
    }
  }
}